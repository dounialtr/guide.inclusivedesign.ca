{% extends "layouts/base.njk" %}

{% set bodyClass = "idg-category-" + category %}
{% set editLinkPath %}
documents{{ page.url | replace('.html', '.md') }}
{% endset %}
{% set navPages = collections.all | eleventyNavigationBreadcrumb(eleventyNavigation.key) %}

{% block content %}

<header class="category-header bg-category-{{ category | lower }} color-primary">
    <div class="wrapper">
        <nav aria-label="breadcrumb">
            <ul class="breadcrumbs inline-list">
                <li><a href="/">Home</a></li>
                {% for page in navPages %}
                <li><a href="{{ page.url }}">{{ page.key }}</a></li>
                {% endfor %}
                <li aria-current="page">{{ eleventyNavigation.key }}</li>
            </ul>
        </nav>
        <h1 class="article-title">{{ title }}</h1>
    </div>
</header>

<div class="wrapper">
    {% include "partials/content.njk" %}

    {% if not navPages.length %}
    {% set childPages = collections.all | eleventyNavigation(eleventyNavigation.key) %}
    <nav aria-label="{{ eleventyNavigation.key }} contents">
        <ul>
            {% for page in childPages %}
            <li><a href="{{ page.url }}">{{ page.key }}</a></li>
            {% endfor %}
        </ul>
    </nav>
    {% endif %}

    {% include "partials/editOnGitHub.njk" %}
</div>

{% endblock %}
